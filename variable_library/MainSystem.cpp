#include"MainSystem.h"

using namespace variableNS;

void MainSystem::Load() {
	//////////////////////////////////
	//ウィンドウの生成
	//////////////////////////////////
	MainWindow mainWindow;

	//////////////////////////////////
	//Direct3Dの初期化
	//////////////////////////////////


	//////////////////////////////////
	//DirectInputの初期化
	//////////////////////////////////

	//////////////////////////////////
	//DirectSoundの初期化
	//////////////////////////////////

	//////////////////////////////////
	//メッセージループ
	//////////////////////////////////

}

void MainSystem::Update() {
	MSG msg;

	while (true) {
		if (PeekMessage(&msg, NULL, 0, 0, PM_REMOVE)) {
			TranslateMessage(&msg);
			DispatchMessage(&msg);

			if (msg.message == WM_QUIT) break;
		}
	}

	return;
}

void MainSystem::UnLoad() {

}

int WINAPI WinMain(HINSTANCE hInstance,HINSTANCE hPrevInstance,LPSTR lpCmdLine,int nCmdShow) {
	
	///////////////////////////////
	//システム起動
	//各APIなどを初期化
	///////////////////////////////
	MainSystem::Load();

	///////////////////////////////
	//ゲーム再生
	//メッセージループによって
	//毎フレーム更新される
	///////////////////////////////
	MainSystem::Update();

	//////////////////////////////
	//システム終了
	//各APIなどを解放する
	//////////////////////////////
	MainSystem::UnLoad();

	return 0;
}